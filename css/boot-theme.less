@import "css/formulaires.less";

/**
 * Variables
 */

@greyDark:                               #443220;
@greyLight:                              #728483;
@beige:                                  #f6f4ef;
@orange:                                 #f0821a;
@charcoal:                               #2e4140;
@amber:                                  #f5bb27;
@yellowBrown:                            #9c6d03;
@green:                                  #14b67e;

@linkColor:                              @orange;

// Inverted navbar
@navbarInverseBackground:                @white;
@navbarInverseBackgroundHighlight:       @white;
@navbarInverseBorder:                    @white;

@navbarInverseText:                      @greyDark;
@navbarInverseLinkColor:                 @greyDark;
@navbarInverseLinkColorHover:            @orange;

@formActionsBackground:                  transparent;

@btnSuccessBackground:                   @green;
@btnSuccessBackgroundHighlight:          lighten(@green, 10%);

/*
 * Mixins.
 */
.bouton (@backgroundColor: @green) {
	background-color: @backgroundColor;
	border-radius: 100px;
	border: none;
	box-shadow: none;
	text-shadow: none;
	background-image: none;
	padding: 0.625em 1.2em;
	display:inline-block;
}

/*
 * Fonts
 */
@font-face {
		font-family: 'montserratregular';
		src: url('fonts/montserrat/montserrat-regular-webfont.woff2') format('woff2'),
				url('fonts/montserrat/montserrat-regular-webfont.woff') format('woff');
		font-weight: normal;
		font-style: normal;
}
@HelvetiaFontFamily : Helvetica, Arial, sans-serif;

@HelvetiaSemiBoldFontFamily : Helvetica-Semibold, Arial, sans-serif;

@serifFontFamily: @HelvetiaFontFamily;


/*
 * Navigation
 */
.navbar {
	.nav {
		float: none;
		text-align: right;
		display: flex;
		flex-wrap: wrap;
		justify-content: flex-end;
		margin: 0;
		li {
			float:none;
		}
		.action-buttons {
			width: 281px;
		}
	}
}

.navbar-inverse .btn-navbar {
	background: @orange;
	padding: 1.1em 0.8em;
	border-radius: 3.125em;
}

.navbar .btn-navbar .icon-bar {
	background-color: @white;
	width: 24px;
	border-radius: 3px;
}

/*
 * Blocks
 */

.home .page-body:not(.results),
.container > div.main,
.page_evenement .page-body,
.content > div.main,
.support_us .content > section:not(.page-head),
.rub-orig-29 .page-body,
.rubrique_news .page-body {
	padding-right: 3.25em;
	padding-left: 3.25em;
}

section.page-body.articles_rubrique {
	background-color: @white;
	.liste-items {
		display: flex;
		flex-wrap: wrap;
		.item {
			margin-right: 6em;
			width: calc(50% - 6em);
		}
		.item:nth-child(even) {
			margin-right: 0;
		}
	}
}


body {
	background-color: #E4E4E4;
}

.page {
	background-color: @white;
}

.rub-orig-33 .page-body {
	.cartouche {
		margin-bottom: 3em;
	}
}

.page-body {
	padding-bottom: 3.142857143em;
	padding-top: 3.142857143em;
	.cartouche {
		.texte {
			font-size: 1.230769231em;
		}
	}
	h2 {
		font-weight: bold;
	}
	h1 {
		font-size: 2.285714286em;
		margin-bottom: 0.5em;
		line-height: 0.9375em;
	}
	.texte {
		font-size: 0.928571429em;
		line-height: 2em;
		.info-publi {
			font-size: 1.076923077em;
			line-height: 1.857142857em;
		}
	}
	.liste-items .item article {
		display: flex;
		.logo {
				width: 47%;
				margin-right: 2em;
		}
		img {
			margin-right: 2em;
		}
	}
}

.liste-items {
	h3 {
		margin-bottom: 0.5em;
	}
}

.home #content .cartouche {
		display: block;
}

.main {text-align: left;}

// Header.
.home #content .cartouche {
	display: block!important;
}

#header {
	font-family: @HelvetiaFontFamily;
	margin: 2.28125em 1em 2.28125em 1.2725em;
	font-size: 1.05em;
	color: #443220;
	.logo {
		padding-top: 0.1em;
	}
}

.header {
	.logo {
		padding-top: 0;
			.spip_logos {
			margin: 0;
		}
	}
}

.page-head {
	text-align: center;
	> header, article > header{
		color: #ffffff;
		background-color:#000000;
		background-size: cover;
		padding-bottom: 2em;
		margin-bottom: 0;
		background-clip: padding-box;

		h1 {
			font-size: 3.126em;
			text-shadow: 0 0 4px rgba(86, 59, 33, 0.3);
			font-weight: bold;
			font-style: normal;
			font-stretch: normal;
			padding-top:1em;
		}
		.chapo {
			color: #ffffff;
			font-size:1.4em;
			margin: 0 3em;
			text-shadow: 0 0 2px #000000;
		}
		nav.fixed {
			width: 100%!important;
			margin: 0;
			left: 0!important;
			ul {
				margin-bottom: 0;
			}
		}
		nav {
			margin: 0 14em;
			ul {
				margin-bottom: 0;
			}
			.btn {
				color: #ffffff;
				background-color: @orange;
				border: 0 @orange solid;
			}
			.liste-items {
				.current a{
					background-color: @white;
				}
				.item {
					border-top: none;
					clear: none;
					display: inline-block;
					margin-right: 0.4em;
				}
			}
			.liste-items .item:last-child {
				border-bottom: none;
				margin-right: 0;
			}
		}
	}
}

.home .page-head {
	> header{
		min-height: 580px;
	}
}

.contact.page-head .main,
.support_us.page-head .main,
.page_evenement #content > .container {
	padding-top: 5em;
	padding-bottom: 5em;
}

// Breadcrumbs.
.breadcrumb {
	background-color: transparent;
	border-radius: 0;
	list-style: outside none none;
	margin: 0 0 1em 1.9em;
	text-align:left;
	font-size:0.9em;
	> li {
		text-shadow: none;
		> .divider {
			padding: 0 2px;
		}
	}
	a {
		color: #ffffff;
	}
}

// Footer
#footer {
	background-color: @charcoal;
	padding-bottom: 0;
	padding-top: 1em;

	.colophon {
		margin: 2em 1em 0;
		padding-right: 0;
	}
	.main {
		text-align: center;
	}
	.bottom {
		border-top: 1px #ffffff solid;
		border-bottom: 1px #ffffff solid;
		padding: 0.5em 0.2em;
		margin-bottom: 2em;
	}
	.address {
		float:left;
	}
	.copyright {
		float:right;
		font-size: 0.8em;
	}
	.newsletter {
		padding: 4em 0 2.5em 0;
		strong {
			font-size: 2em;
		}
	}
}

// Map
.carte_gis {
	margin-bottom: 3em;
}

/*
 * General.
 */


// Collapsible
.actions {
	display: none;
	text-align: center;
	cursor: pointer;
	.trigger {
		text-decoration: underline;
	}
	.hide {
		display: block;
	}
	.show {
		display: none;
	}
}

.collapse.actions{
	padding: 1em 0;
	height: auto;
}

.actions.closed {
	.hide {
		display: none;
	}
	.show {
		display:block
	}
}

.page-body:nth-child(odd) {
	background-color: @beige;
}

.home .page-body:nth-child(odd) {
	background-color: @white;
}
.page-head {
	> header {
		font-family: @HelvetiaFontFamily;
		h1 {
			padding-top: 6.1em;
		}
	}
}

.cartouche {
	text-align: center;
		display: -webkit-box;
		display: -ms-flexbox;
		display: -webkit-flex;
		display: flex;
		align-items: center;
		justify-content: center;
		flex-wrap: wrap;
	> * {
		width: 100%
	}
	.info-publi {
		color: @white;
	}
}

body.home {
	.cartouche {
		.chapo {
			width: auto;
		}
	}
}

.liste-detail {
	background-color: @white;
}

.page-body, .page-head {
	.liste-items {
		.item {
			border:none;
			padding-left: 0;
		}
		.item:last-child {
			border-bottom: none;
		}
	}
}

p.all {
	text-align: center;
	margin-top: 3em;
	margin-bottom: 0;
	a {
		font-size: 1.285714286em;
		color: @charcoal;
		text-decoration: underline;
	}
}


.info-publi {
	margin-bottom: 0.5em;
	color: @greyLight;
	line-height: 1.857142857em;
}

abbr[title], acronym[title], abbr[data-original-title] {
	border-bottom: none;
	text-decoration: none;
	color: @greyLight;
}

section.page-body {
	h3 {
		font-size: 1.285714286em;
		line-height: 1.333333333em;
	}
}

.liste-detail .span6.texte .wrapper {
	padding: 3em;
}

// Flex box
.flex-wrapper {
	display: flex;
	flex-wrap: wrap;
	justify-content: center;
}

// Sponsors
	aside.sponsors{
		max-width: 570px;
		margin: 0 auto;
		padding: 3.142857143em 3.25em;
		text-align: center;
		a {
			width: 33%;
			margin-bottom: 1.5em;
		}
	}

.pagination {text-align:center;}

// Results.
.results.page-body {
	padding-top: 0;
	margin-bottom: 5em;
	.wrapper {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
	}
	h1, .label, .nombre {
		color: @white;
		text-shadow: 2px 0px 1px #000000;
		font-size: 3.428571429em;
	}
	h1 {
		padding-top: 1.2em;
		font-family: @HelvetiaSemiBoldFontFamily;
		font-weight: bold;
		line-height: 0.541666667em;
	}
	.main {
		text-align: center;
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		> div {
			width: 25%;
			margin-bottom: 2.5em;
		}
	}

	.label {
		background-color: transparent;
		font-size: 1.428571429em;
		font-weight: normal;
		line-height: 1.1em;
		padding: 0;
		text-shadow: none;
		white-space: normal;
		width: 69%;
		text-shadow: 2px 0px 1px #000000;
	}
	.nombre {
		font-weight: bold;
		line-height: 0.541666667;
		margin: 0.5em 0 0.1em;
	}
}


// Boutons
.btn {
	.bouton;
	font-size: 1em;
}

.btn-success:hover,
.btn-success:focus,
.btn-success:active {
	background-color: @amber;
}

.action-buttons {
	display: flex;
	flex-wrap: no-wrap;
	justify-content: flex-end;
	.btn{
		margin-top: 0;
	}
	> div {
		margin-left: 0.4em;
	}
}
.follow .btn{
	.bouton(#e4e4e4);
	background-position: center center;
	background-repeat: no-repeat;
	width:9px;
	color: #e4e4e4;
	margin-right: 0;
	span {
		visibility: hidden;
	}
}

.follow .btn.facebook {
	background-image: url(images/icon-facebook.png);
}


.follow .btn.vimeo {
	background-image: url(images/icon-vimeo.png);
}

.follow .btn.twitter {
	background-image: url(images/icon-twitter.png);
}

.formulaire_menu_lang {
	.bouton(#e4e4e4);
}

#footer {
	margin-top: 0;
	padding-top: 0;
	font-size: 1.142857143em;
	.navigation {
		padding-bottom: 2em;
	}
	.follow-us {
		display:inline-block;
		vertical-align: top;
		line-height: 2.7em;
	}
	.btn {
		vertical-align:top;
	}
	a {
		color: #ffffff;
	}
}

// Block support us
body:not(.support_us) .support_us.page-body{
	padding-right: 3.25em;
	padding-left: 3.25em;
	background-color: @green;
	.main{
		text-align: center;
	}
	h1 {
		color: @white;
	}
	.btn {
		color: @charcoal;
		background-color: @amber;
		border: 2px @amber solid;
	}
	.liste-items .item {
		border-top: none;
		clear: none;
		display: inline-block;
		margin-right: 1.5em;
		width: 23%;
	}
	.liste-items .item:last-child {
		border-bottom: none;
		margin-right: 0;
	}
}

/*
 * Menus
 */

// navbar

.navbar-inner {
	border:none;
	border-radius: none;
	box-shadow: none;
	padding: 0;
	.on {
		font-weight:normal;
	}
}

.navbar-inverse {
	.nav > li > a {
		text-shadow: none;
		padding: 0.7em 0.8em;
	}
	.nav > li.on > a{
		color: @orange;
	}
}

.navbar {
	margin-top: 0;
	margin-bottom: 0;
	.nav{
		float:right;
	}
}

#footer {
	color: @white;
	border-top: none;
	text-align: center;
	.navbar-inner {
		background-color: transparent;
		background-image: none;
		li {
			float: left;
			a {
				padding: 0.6em 1em;
			}
		}
		li:first-child a {
			padding-left: 0;
		}
		li.on > a{
			color: @orange;
		}
		li.action-buttons {
			float:right;
		}
	}
	.action-buttons {
		> div > * {
			margin-left: 0.4em;
		}
	}
}

/**
 * Home
 */

.home {
	.page-head {
		background: @beige;
		> header {
			h1 {
				visibility: hidden;
				padding-top: 1em;
			}
		}
		.cartouche {
			position: relative;
			.teaser {
				position: absolute;
				bottom: 0;
				left: 0;
				width: initial;
				text-align: left;
				margin: 0 2em;
			}
			img {
				width: 85%;
				position: absolute;
				top: -55px;
			}
		}
		.chapo {
			font-size: 1.2em;
			font-weight: normal;
			line-height: normal;
			margin-left: 4em;
		}
		.main {
			display: flex;
			align-items: center;
			padding : 1em 3em;
			.texte{
				width: 66%;
			}
			.boutons {
				width: 33%;
				text-align: right;
				a {
					display:block;
					margin: 0 0 1em 5em;
					color: @charcoal;
				}
			}

		}
	}
}

/**
 * Section Our Work.
 */

/*Rubrique What we do */

.rub-orig-33 .page-body {
	padding-right: 0;
	padding-left: 0;
}
.what_we_do {
	> .main{
		display:table;
		width: 100%;
		.texte {
			display:table-cell;
			width: 66%;
		}
	}
	.boutons {
		width:33%;
		display: table-cell;
		vertical-align: middle;

		> div {
			vertical-align:middle
		}
		a {
				display:block;
				margin: 0 0 1em 5em;
				color: @charcoal;
			}
	}
}

// Projets.

section.ongoing_projects{
	.compteur {
		text-align: center;
		font-weight: bold;
		.finished-projects {
			font-weight: normal;
		}
	}
	.ongoing-projects {
		.bouton(@amber);
		border-radius:10em;
		padding: 0.2em 0.5em 0.1em;
	}
	.finished-projects {
		text-decoration: underline;
	}
	.lieu {
		color: @greyLight;
	}
}

// Projet
.page_organisation {
	header {
		.location {
			color: @greyLight;
		}
	}
	.carte {
		width: 80%;
		height: 18em;
		margin: 2em auto;
	}
	#impact {
	background-color : @white;
		article{
			column-count: 2;
			column-gap: 5em;
		}
	}
	.page-body {
		padding-right: 0;
		padding-left: 0;
	}
	#photos_videos {
		background-color: @beige;
		section {
			max-width: 870px;
			margin: 0 auto 2em auto;
		}
	}
	#support_projet {
		background-color: @green;
		text-align: center;
		h2 {
			color: @white;
		}
		.btn {
			background-color: @amber;
		}
		.more {
			margin-top: 1.42857143em;
			margin-bottom: 0;
			a {
				color: @white;
				text-decoration: underline;
			}
		}
	}
	.lieu {
		color: @greyLight;
	}
}

// Support us.

body.support_us {
	.page-body {
		h1 {
			color: inherit;
		}
	}
	.page-body:nth-child(odd) {
		background-color: @beige;
	}
	.support_us.page-body .main {
		text-align: left;
	}
	section {
		img {
			border-radius:11em;
			float: left;
			margin-right:2em;
		}
		.contenu{
			padding: 1em 2em;
			a {
				.bouton();
				color: @charcoal;
			}
			a:hover {
				background-color: @amber;
			}
			a:nth-child(even) {
				background-color: @amber;
			}
			a:nth-child(even):hover {
				background-color: @green;
			}
		}
	}
}

// About.
.rub-orig-29 {
	.page-body {
		img {
			float: right;
			margin-left: 2em;
			width: 50%
		}
	}
		#rubrique-44 {
			.documents_joints .liste-items .item {
				.bouton();
				.telecharger, .poids {
					display: none;
				}
				strong{
					font-weight: normal;
				}
				a {
					color: @charcoal;
				}
			}
		}
	section.team{
		background-color: @charcoal;
		background-size: cover;
		color: @white;
		h1, a {
			color: @white;
		}
		a.btn {
			color: @charcoal;
		}
		.main {
			text-align: center;
		}
		.team {
			margin-top: 14em;
			margin-bottom: 2em;
			text-align: left;
			p {
				margin-bottom: 0.2em;
			}
			a {
				text-decoration: underline;
			}
			.fonction {
				font-size: 1.2em;
				font-weight: bold;
				margin-bottom: 0.6em;
			}
		}
	}
	section.famous_fans {
		.fans {
			display: flex;
			flex-wrap: wrap;
			.fan {
				width: 49%;
				margin: 0 0 2em 2%;
				a {
					text-decoration: underline;
					color: @charcoal;
				}
				img {
					float: left;
					width: auto;
					margin-right: 2em;
					margin-left: 0;
					width: 26%;
				}
				p {
					margin-bottom: 0.2em;
				}
				.prenom_nom {
					font-size: 1.2em;
					font-weight: bold;
					margin-top: 0.5em;
					margin-bottom: 0.6em;
				}
			}
			.fan:nth-child(odd) {
				margin-left: 0;
			}
		}
	}
	.sponsors {
		text-align: center;
		img {
			width: auto;
			float: none;

		}
		.row1{
			margin-bottom: 3em;
		}
	}
	.media {
		.telecharger {
			float:left;
			background-image: url(images/download.svg);
			background-position: 50% 50%;
			background-repeat: no-repeat;
			background-size: 45% auto;
			padding: 1.5em;
			margin-right: 1em;
		}
		.item {
			width: 50%;
			float:left;
			clear:none;
			.poids {display: block;}
		}
	}
}

.contact.page-head {
	.lieux {
		a {
			color: @charcoal;
			text-decoration: underline;
		}
		.lieu {
			display: inline-block;
			width: 49%;
			.titre {
				font-weight:bold;
				margin-bottom: 1em;
			}
		}
	}
	.carte {
		margin:0 2em 3em  2em;
	}
	.leaflet-container  {
		background-color: transparent;
	}
	.cherchez {
		padding: 5em 0;
		background-color: @green;
		.item {
			display: inline-block;
			a {
				.bouton();
				background-color: @amber;
				color: @charcoal;
			}
		}
		a:hover {
			background-color: @beige;
		}
	}
}

// Our work
.rub-orig-33 {
	.page-body {
		.cartouche {
			margin-bottom: 0;
			p {
				margin-bottom: 0;
			}
		}
	}
	.what_we_do {
		.row-fluid .span6 {
			width: 100%;
		}
		h1 {
			display: none;
		}
		.main {

			.boutons {
				text-align: center;
			}
		}
		> .main {
			display: block;
			.texte {
				width: 100%;
				display: block;
			}
		}
		.boutons {
			width: 100%;
			display: block;
			margin: 2em 0;
			> div {
				display: inline-block;
			}
			> div:first-child {
				a{
					margin-left:0;
				}
			}
		}

		.texte {
			text-align: center;
			font-size: 1.230769231em;
			color: @orange;
			text-transform: initial;
			text-decoration: none;
			p {
				margin: 0;
			}
			> p:first-child {
				color: @charcoal;
			}
		}
		// crayon cause des problèmes pour la détection du premier p
		.texte.crayon-init {
			> p:nth-child(2) {
				color: @charcoal;
			}
		}
	}
}

// Evénements
.page_evenement {
	#details_pratique {
		background-color: @beige;
	}
}

.events{
	.liste-detail {
		display: flex;
		flex-wrap: wrap;
		line-height: 1.857142857em;
		justify-content: space-between;
		h3 {
			margin-bottom: 0.2em;
		}
		.event {
			width: 27%;
			img {
				margin-bottom: 0.444444444em;
			}
		}
		.event:last-child{
			margin-right: 0;
		}
	}
}


@media (min-width: 1200px) {

	.liste-detail .row-fluid .span6 {
			width: 50%;
	}

	.page {
		max-width: 1220px;
		margin: 0 auto;
	}

	// Blocks

	.home .page-body:not(.results),
	.container > div.main,
	.page_evenement .page-body,
	.support_us.page-body,
	.content > div.main,
	.support_us .content > section:not(.page-head),
	.rub-orig-29 .page-body,
	.rubrique_news .page-body {
		padding-right: 8em;
		padding-left: 8em;
	}

	.page-head {
		> header,
		article > header{
			nav {
				margin: 0 16em;
			}
		}
	}

	// Projet
	.page_organisation {
		.carte {
			width: 70%;
		}
	}
}

@media (max-width: 767px) {
	body {
		background-color: @white;
	}

	#header {
		margin: 2em 0;
	}

	.flex-wrapper,
	.events .liste-detail,
	section.page-body.articles_rubrique .liste-items {
		display: block;
	}

	.events .liste-detail .event {
		width: 100%;
	}

	section.page-body.articles_rubrique .liste-items .item {

			margin-right: 0;
			width: 100%;

	}


	.page-head > header {
		min-height: auto;
		padding-bottom: 0;
		.chapo, .page-head article > header .chapo, nav {
			margin: 0 0.6875em;
		}

	}
	.home {
		h1 {
			display: none;
		}
		.page-head .chapo {
			padding: 1em 0 0.01em 0;
			font-size: 1.5em;
			line-height: 1.2em;
		}
	}
	.navbar-responsive {
		right: 0;
		top: -5px;
	}
	.collapse {
		position:absolute;
		z-index: 200;
		right: 0;
		height: 0;
		top: 49px;
	}
	// Boutons
	.nav-collapse{
		.action-buttons {
			.formulaire_menu_lang {
				float: none;
			}
		}
		.follow {
			.btn {
				float: none;
				border-radius: 50px;
				padding: 0.7em 1.2em;
			}
		}
	}
	.navbar {
		.btn-navbar {
			margin: 0;
		}
		.nav {
			display: block;
			.action-buttons {
				width: 100%;
			}
		}
	}
	#footer .navbar-inner {
		li {
			float: none;
			display: inline-block;
		}
		.action-buttons {
			width: 100%;
			display: flex;
			justify-content: center;
			> div {
				display: inline-block;
			}
			> div:first-child {
				margin-left: 0;
			}
			.btn {
				padding: 0.7em 1.2em;
			}
			#formulaire_menu_lang {
				height: 2.85em;
			}
		}
	}

	.page-body,
	.container > div.main,
	.page_evenement .page-body,
	.support_us.page-body,
	.content > div.main,
	.support_us .content > section:not(.page-head),
	.rub-orig-29  .page-body,
	.rubrique_news .page-body {
		padding-right: 1em;
		padding-left: 1em;
	}

	.page-body:nth-child(odd) {
		background-color: #ffffff;
	}
	.liste-detail .span6.texte .wrapper {
		padding: 3em 0;
	}
	.liste.articles .liste-items {
		.texte .wrapper {
			padding-left: 0;
			margin-top: 1em;
		}
		img {
			width: 100%;
			float: none;
		}
	}

	.page-body.results {
		.main > div {
			float: none;
			width: 100%;
		}
		.icon {
			height: 30vw;
			width: 30vw;
		}
	}
	.what_we_do {
		> .main .texte, .boutons {
			display: block;
			width: 100%;
		}
		.boutons {
			max-width: 310px;
			margin: 0 auto;
			a {
				margin: 0 0 1em 0;
			}
		}
		.bouton-image {
			margin-bottom: 1em;
		}
	}
	.liste-detail .row-fluid .span6 {
		width: 100%;
	}

	.rub-orig-29 {
		section.famous_fans .fans .fan {
		width: 100%;
		margin: 0 0 2em 0;
		}
		section.team .team {
			margin-top: 0;
			padding: 1.5em;
			.membre {
				margin-bottom: 1em;
			}
		}
		.media .item {
			width: 100%;
			float: none;
		}
	}

	.contact.page-head {
		.contact.page-head .lieux .lieu {
			display: block;
			width: 100%;
		}
		.carte {
			margin: 0;
		}
	}
}
